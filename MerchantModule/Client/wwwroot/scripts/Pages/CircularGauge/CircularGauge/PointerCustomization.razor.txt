@page "/CircularGauge/PointerCustomization"

@using Syncfusion.EJ2.Blazor.CircularGauge

@inherits SampleBaseComponent;

<div class="control-section">
    <div class="row">
        <div class="col-sm-12">
            <div class="row">
                <div class="col-sm-4">
                    <EjsCircularGauge Height="250px">
                        <CircularGaugeAxes>
                            <CircularGaugeAxis StartAngle="270" EndAngle="90" Radius="90%" Minimum="0" Maximum="100">
                                <CircularGaugeAxisLineStyle Width="3" Color="#01aebe">
                                </CircularGaugeAxisLineStyle>
                                <CircularGaugeAxisLabelStyle Position="Position.Outside">
                                    <CircularGaugeAxisLabelFont Size="0px" Color="transparent"></CircularGaugeAxisLabelFont>
                                </CircularGaugeAxisLabelStyle>
                                <CircularGaugeAxisMajorTicks Width="1" Height="0.01" Interval="100">
                                </CircularGaugeAxisMajorTicks>
                                <CircularGaugeAxisMinorTicks Width="0.01" Height="0.01">
                                </CircularGaugeAxisMinorTicks>
                                <CircularGaugePointers>
                                    <CircularGaugePointer Radius="100%" Value="80" Type="PointerType.Marker" MarkerShape="GaugeShape.InvertedTriangle" MarkerWidth="15" MarkerHeight="15" Color="rgb(0,171,169)">
                                    </CircularGaugePointer>
                                </CircularGaugePointers>
                                <CircularGaugeAnnotations>
                                    <CircularGaugeAnnotation Angle="180" ZIndex="1" Radius="20%">
                                        <ContentTemplate>
                                            <div style="color:#757575; font-size:14px;font-family:Roboto;margin-left:-45px">Inverted Triangle</div>
                                        </ContentTemplate>
                                    </CircularGaugeAnnotation>
                                </CircularGaugeAnnotations>
                            </CircularGaugeAxis>
                        </CircularGaugeAxes>
                    </EjsCircularGauge>
                </div>
                <div class="col-sm-4">
                    <EjsCircularGauge Height="250px">
                        <CircularGaugeAxes>
                            <CircularGaugeAxis StartAngle="270" EndAngle="90" Radius="90%" Minimum="0" Maximum="100">
                                <CircularGaugeAxisLineStyle Width="3" Color="#ff5985">
                                </CircularGaugeAxisLineStyle>
                                <CircularGaugeAxisLabelStyle Position="Position.Outside">
                                    <CircularGaugeAxisLabelFont Size="0px" Color="transparent"></CircularGaugeAxisLabelFont>
                                </CircularGaugeAxisLabelStyle>
                                <CircularGaugeAxisMajorTicks Width="1" Height="0.01" Interval="100">
                                </CircularGaugeAxisMajorTicks>
                                <CircularGaugeAxisMinorTicks Height="0.01" Width="0.01">
                                </CircularGaugeAxisMinorTicks>
                                <CircularGaugePointers>
                                    <CircularGaugePointer Value="66" Radius="90%" Type="PointerType.RangeBar" PointerWidth="10" Color="#ff5985">
                                        <CircularGaugePointerAnimation Enable="true" Duration="1000">
                                        </CircularGaugePointerAnimation>
                                    </CircularGaugePointer>
                                </CircularGaugePointers>
                                <CircularGaugeAnnotations>
                                    <CircularGaugeAnnotation Angle="180" ZIndex="1" Radius="28%" >
                                        <ContentTemplate>
                                            <div style="color:#757575; font-size:14px;font-family:Roboto;margin-left:-30px">Range Bar</div>
                                        </ContentTemplate>
                                    </CircularGaugeAnnotation>
                                </CircularGaugeAnnotations>
                            </CircularGaugeAxis>
                        </CircularGaugeAxes>
                    </EjsCircularGauge>
                </div>
                <div class="col-sm-4">
                    <EjsCircularGauge Height="250px">
                        <CircularGaugeAxes>
                            <CircularGaugeAxis StartAngle="270" EndAngle="90" Radius="90%" Minimum="0" Maximum="100">
                                <CircularGaugeAxisLineStyle Width="3" Color="#1E7145">
                                </CircularGaugeAxisLineStyle>
                                <CircularGaugeAxisLabelStyle Position="Position.Outside">
                                    <CircularGaugeAxisLabelFont Size="0px" Color="transparent"></CircularGaugeAxisLabelFont>
                                </CircularGaugeAxisLabelStyle>
                                <CircularGaugeAxisMajorTicks Width="1" Height="0.01" Interval="100">
                                </CircularGaugeAxisMajorTicks>
                                <CircularGaugeAxisMinorTicks Height="0.01" Width="0.01">
                                </CircularGaugeAxisMinorTicks>
                                <CircularGaugePointers>
                                    <CircularGaugePointer Value="70" Radius="100%" Type="PointerType.Marker" MarkerShape="GaugeShape.Triangle" MarkerWidth="15" MarkerHeight="15" Color="#1E7145">
                                        <CircularGaugePointerBorder Width="1" Color="#1E7145">
                                        </CircularGaugePointerBorder>
                                        <CircularGaugePointerAnimation Enable="true" Duration="1000">
                                        </CircularGaugePointerAnimation>
                                    </CircularGaugePointer>
                                </CircularGaugePointers>
                                <CircularGaugeAnnotations>
                                    <CircularGaugeAnnotation Angle="180" ZIndex="1" Radius="20%" >
                                        <ContentTemplate>
                                            <div style="color:#757575; font-size:14px;font-family:Roboto;margin-left:-20px">Triangle</div>
                                        </ContentTemplate>
                                    </CircularGaugeAnnotation>
                                </CircularGaugeAnnotations>
                            </CircularGaugeAxis>
                        </CircularGaugeAxes>
                    </EjsCircularGauge>
                </div>
            </div>
        </div>
        <div class="col-sm-12">
            <div class="row">
                <div class="col-sm-4">
                    <EjsCircularGauge Height="250px" CenterY="40%" @ref="needleRef">
                        <CircularGaugeAxes>
                            <CircularGaugeAxis StartAngle="270" EndAngle="90" Radius="90%" Minimum="0" Maximum="100">
                                <CircularGaugeAxisLineStyle Width="3" Color="#9250e6">
                                </CircularGaugeAxisLineStyle>
                                <CircularGaugeAxisLabelStyle Position="Position.Outside">
                                    <CircularGaugeAxisLabelFont Size="0px" Color="transparent"></CircularGaugeAxisLabelFont>
                                </CircularGaugeAxisLabelStyle>
                                <CircularGaugeAxisMajorTicks Width="1" Height="0.01" Interval="100">
                                </CircularGaugeAxisMajorTicks>
                                <CircularGaugeAxisMinorTicks Height="0.01" Width="0.01">
                                </CircularGaugeAxisMinorTicks>
                                <CircularGaugePointers>
                                    <CircularGaugePointer Value="@needlePointer" Radius="100%" Color="#923C99" PointerWidth="6">
                                        <CircularGaugeCap Radius="0.01">
                                        </CircularGaugeCap>
                                        <CircularGaugeNeedleTail Length="4%" Color="#923C99">
                                        </CircularGaugeNeedleTail>
                                        <CircularGaugePointerAnimation Enable="false" Duration="900">
                                        </CircularGaugePointerAnimation>
                                    </CircularGaugePointer>
                                </CircularGaugePointers>
                                <CircularGaugeAnnotations>
                                    <CircularGaugeAnnotation Angle="180" ZIndex="1" Radius="20%">
                                        <ContentTemplate>
                                            <div style="color:#757575; font-size:14px;font-family:Roboto;margin-left:-30px">Needle</div>
                                        </ContentTemplate>
                                    </CircularGaugeAnnotation>
                                </CircularGaugeAnnotations>
                            </CircularGaugeAxis>
                        </CircularGaugeAxes>
                    </EjsCircularGauge>
                </div>
                <div class="col-sm-4">
                    <EjsCircularGauge Height="250px" CenterY="40%">
                        <CircularGaugeAxes>
                            <CircularGaugeAxis StartAngle="270" EndAngle="90" Radius="90%" Minimum="0" Maximum="100">
                                <CircularGaugeAxisLineStyle Width="3" Color="#e3a21a">
                                </CircularGaugeAxisLineStyle>
                                <CircularGaugeAxisLabelStyle Position="Position.Outside">
                                    <CircularGaugeAxisLabelFont Size="0px" Color="transparent"></CircularGaugeAxisLabelFont>
                                </CircularGaugeAxisLabelStyle>
                                <CircularGaugeAxisMajorTicks Width="1" Height="0.01" Interval="100">
                                </CircularGaugeAxisMajorTicks>
                                <CircularGaugeAxisMinorTicks Height="0.01" Width="0.01">
                                </CircularGaugeAxisMinorTicks>
                                <CircularGaugePointers>
                                    <CircularGaugePointer Value="80" Radius="80%" MarkerWidth="5" MarkerHeight="5" Color="#e3a21a" PointerWidth="10">
                                        <CircularGaugeCap Radius="8" Color="White">
                                            <CircularGaugeCapBorder Color="#e3a21a" Width="1">
                                            </CircularGaugeCapBorder>
                                        </CircularGaugeCap>
                                        <CircularGaugeNeedleTail Length="20%" Color="#e3a21a">
                                        </CircularGaugeNeedleTail>
                                        <CircularGaugePointerAnimation Enable="true" Duration="1000">
                                        </CircularGaugePointerAnimation>
                                    </CircularGaugePointer>
                                    <CircularGaugePointer Value="40" Radius="60%" MarkerWidth="5" MarkerHeight="5" Color="#ffb133" PointerWidth="10">
                                        <CircularGaugeCap Radius="8" Color="White">
                                            <CircularGaugeCapBorder Color="#ffb133" Width="1">
                                            </CircularGaugeCapBorder>
                                        </CircularGaugeCap>
                                        <CircularGaugeNeedleTail Length="20%" Color="#e3a21a">
                                        </CircularGaugeNeedleTail>
                                        <CircularGaugePointerAnimation Enable="true" Duration="1000">
                                        </CircularGaugePointerAnimation>
                                    </CircularGaugePointer>
                                </CircularGaugePointers>
                                <CircularGaugeAnnotations>
                                    <CircularGaugeAnnotation Angle="180" ZIndex="1" Radius="25%" >
                                        <ContentTemplate>
                                            <div style="color:#757575; font-size:14px;font-family:Roboto;margin-left:-40px">Multiple Needle</div>
                                        </ContentTemplate>
                                    </CircularGaugeAnnotation>
                                </CircularGaugeAnnotations>
                            </CircularGaugeAxis>
                        </CircularGaugeAxes>
                    </EjsCircularGauge>
                </div>
                <div class="col-sm-4">
                    <EjsCircularGauge Height="250px" CenterY="40%" @ref="liveUpdateRef">
                        <CircularGaugeAxes>
                            <CircularGaugeAxis StartAngle="270" EndAngle="90" Radius="90%" Minimum="0" Maximum="100">
                                <CircularGaugeAxisLineStyle Width="0.01">
                                </CircularGaugeAxisLineStyle>
                                <CircularGaugeAxisLabelStyle Position="Position.Outside">
                                    <CircularGaugeAxisLabelFont Size="0px" Color="transparent"></CircularGaugeAxisLabelFont>
                                </CircularGaugeAxisLabelStyle>
                                <CircularGaugeAxisMajorTicks Width="1" Height="0.01" Interval="100">
                                </CircularGaugeAxisMajorTicks>
                                <CircularGaugeAxisMinorTicks Height="0.01" Width="0.01">
                                </CircularGaugeAxisMinorTicks>
                                <CircularGaugePointers>
                                    <CircularGaugePointer Value="@liveUpdatePointer" Radius="100%" Color="#067bc2" PointerWidth="6">
                                        <CircularGaugeCap Radius="0.01">
                                        </CircularGaugeCap>
                                        <CircularGaugeNeedleTail Length="4%" Color="#067bc2">
                                        </CircularGaugeNeedleTail>
                                        <CircularGaugePointerAnimation Enable="false" Duration="100">
                                        </CircularGaugePointerAnimation>
                                    </CircularGaugePointer>
                                    <CircularGaugePointer Value="@liveUpdatePointer" Radius="100%" Type="PointerType.RangeBar" Color="#067bc2" PointerWidth="5">
                                        <CircularGaugePointerAnimation Enable="false" Duration="100">
                                        </CircularGaugePointerAnimation>
                                    </CircularGaugePointer>
                                </CircularGaugePointers>
                                <CircularGaugeAnnotations>
                                    <CircularGaugeAnnotation Angle="180" ZIndex="1" Radius="20%">
                                        <ContentTemplate>
                                            <div style="color:#757575; font-size:14px;font-family:Roboto;margin-left:-30px">Live Update</div>
                                        </ContentTemplate>
                                    </CircularGaugeAnnotation>
                                </CircularGaugeAnnotations>
                            </CircularGaugeAxis>
                        </CircularGaugeAxes>
                    </EjsCircularGauge>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    EjsCircularGauge needleRef;
    EjsCircularGauge liveUpdateRef;
    System.Timers.Timer syncTimer = null;
    System.Timers.Timer syncTimer1 = null;
    private Double liveUpdatePointer = 40;
    private Double needlePointer = 80;
    protected override void OnInitialized()
    {
        syncTimer1 = new System.Timers.Timer(1000);
        syncTimer1.Elapsed += this.needlePonterUpdate;
        syncTimer1.AutoReset = true;
        syncTimer1.Enabled = true;
        syncTimer = new System.Timers.Timer(1000);
        syncTimer.Elapsed += this.liveUpdate;
        syncTimer.AutoReset = true;
        syncTimer.Enabled = true;
    }
    Random Random = new Random();
    void needlePonterUpdate(Object source, System.Timers.ElapsedEventArgs e)
    {
        var Number = Random.NextDouble();
        needlePointer = (((Number * (90 - 20)) + 20));
        needleRef.SetPointerValue(0, 0, needlePointer);
    }
    void liveUpdate(Object source, System.Timers.ElapsedEventArgs e)
    {
        var Number = Random.NextDouble();
        var value = (((Number * (80 - 30)) + 30));
        liveUpdatePointer = value;
        liveUpdateRef.SetPointerValue(0, 0, liveUpdatePointer);
        liveUpdateRef.SetPointerValue(0, 1, liveUpdatePointer);
    }
}